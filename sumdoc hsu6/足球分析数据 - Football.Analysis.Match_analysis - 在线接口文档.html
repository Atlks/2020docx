<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> 足球分析数据 - Football.Analysis.Match_analysis - 在线接口文档</title>

    <link rel="stylesheet" href="https://cdn.bootcss.com/semantic-ui/2.2.2/semantic.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/semantic-ui/2.2.2/components/table.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/semantic-ui/2.2.2/components/container.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/semantic-ui/2.2.2/components/message.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/semantic-ui/2.2.2/components/label.min.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <script src="https://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://apps.bdimg.com/libs/jquery.cookie/1.4.1/jquery.cookie.min.js"></script>
</head>

<body>

<div class="row" style="margin-top: 60px;" ></div>

    <div class="ui text container" style="max-width: none !important;">
        <div class="ui floating message">
<h2 class='ui header'>接口：Football.Analysis.Match_analysis</h2><br/> <span class='ui teal tag label'> 足球分析数据</span>            <div class="ui raised segment">
                <span class="ui red ribbon label">接口说明</span>
                <div class="ui message">
                    <p> 返回数据多为历史数据，变化不频繁</p>
                </div>
            </div>
            <h3><i class="sign in alternate icon"></i>接口参数</h3>
            <table class="ui red celled striped table" >
                <thead>
                    <tr><th>参数名字</th><th>类型</th><th>是否必须</th><th>默认值</th><th>其他</th><th>说明</th></tr>
                </thead>
                <tbody><tr><td>username</td><td>字符串</td><td><font color="red">必须</font></td><td></td><td></td><td>用户名</td></tr>
<tr><td>secret</td><td>字符串</td><td><font color="red">必须</font></td><td></td><td></td><td>用户密钥</td></tr>
<tr><td>id</td><td>字符串</td><td><font color="red">必须</font></td><td></td><td></td><td>比赛id</td></tr>
                </tbody>
            </table>
            <h3><i class="sign out alternate icon"></i>返回结果</h3>
            <table class="ui green celled striped table" >
                <thead>
                    <tr><th>返回字段</th><th>类型</th><th>说明</th></tr>
                </thead>
                <tbody><tr><td>teams</td><td>json</td><td>球队列表,字典型,key为球队id</td></tr><tr><td>matchevents</td><td>json</td><td>赛事列表,字典型,key为赛事id</td></tr><tr><td>info</td><td>json</td><td>当前比赛信息</td></tr><tr><td>history</td><td>json</td><td>历史交锋/近期战绩</td></tr><tr><td>goal_distribution</td><td>json</td><td>进球分布</td></tr><tr><td>injury</td><td>json</td><td>伤停情况</td></tr><tr><td>table</td><td>json</td><td>联赛积分</td></tr>            </tbody>
        </table>            <h3><i class="bell icon"></i>异常情况</h3>
            <table class="ui red celled striped table" >
                <thead>
                    <tr><th>错误码</th><th>错误描述信息</th>
                </thead>
                <tbody><tr><td>400</td><td>ret=400，表示客户端参数错误</td></tr><tr><td>404</td><td>ret=404，表示接口服务不存在</td></tr><tr><td>500</td><td>ret=500，表示服务端内部错误</td></tr>            </tbody>
        </table><h3>
    <i class="bug icon"></i>在线测试 &nbsp;&nbsp;
</h3><table class="ui green celled striped table" >
    <thead>
        <tr><th width="25%">参数</th><th width="10%">是否必填</th><th width="65%">值</th></tr>
    </thead>
    <tbody id="params">
        <tr>
            <td>service</td>
            <td><font color="red">必须</font></td>
            <td><div class="ui fluid input disabled"><input name="service" data-source="get" value="Football.Analysis.Match_analysis" style="width:100%;" class="C_input" /></div></td>
        </tr>        <tr>
            <td>username</td>
            <td><font color="red">必须</font></td>
            <td><div class="ui fluid input"><input name="username" value="" data-source="" placeholder="用户名" style="width:100%;" class="C_input" type="text" /></div></td>
        </tr>        <tr>
            <td>secret</td>
            <td><font color="red">必须</font></td>
            <td><div class="ui fluid input"><input name="secret" value="" data-source="" placeholder="用户密钥" style="width:100%;" class="C_input" type="text" /></div></td>
        </tr>        <tr>
            <td>id</td>
            <td><font color="red">必须</font></td>
            <td><div class="ui fluid input"><input name="id" value="" data-source="" placeholder="比赛id" style="width:100%;" class="C_input" type="text" /></div></td>
        </tr>    </tbody>
</table>
<div style="display: flex;align-items:center;">
    <!--<select name="request_type" style="font-size: 14px; padding: 2px;">
        <option value="POST">POST</option>
        <option value="GET">GET</option>
    </select>--><!--
接口链接：&nbsp;<input name="request_url" value="http://www.skrsport.live/" style="width:500px; height:24px; line-height:18px; font-size:13px;position:relative; padding-left:5px;margin-left: 10px"/>
    <input type="submit" name="submit" value="发送" id="submit" style="font-size:14px;line-height: 20px;margin-left: 10px " class="ui green button" />
-->

</div>

<div class="ui fluid action input">
      <input placeholder="请求的接口链接" type="text" name="request_url" value="http://www.skrsport.live/" >
      <button class="ui button green" id="submit" >请求当前接口</button>
</div><div class="ui blue message" id="json_output">
</div><h3><i class="code icon"></i>接口返回示例</h3><!-- 代码高亮 -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<div class="ui text">
    <pre><code>球队列表/赛事列表 说明略

比赛信息/历史交锋/近期战绩字段说明

[
  2214473,//比赛id
  142,//联赛id
  8,//状态id
  1516125600,//比赛时间
  1516129494,//开球时间，可能是上/下半场开球时间
  [
    10974,//球队id
    &quot;1&quot;,//比赛排名
    2,//主队比分
    0,//主队半场比分
    0,//主队红牌
    2,//主队黄牌
    7,//主队角球，-1表示没有角球数据
    0,//主队加时
    0//主队点球
  ],
  [
    10092,//客队id
    &quot;2&quot;,//比赛排名
    0,//客队比分
    0,//客队半场比分
    0,//客队红牌
    3,//客队黄牌
    4,//客队角球，-1表示没有角球数据
    0,//客队加时
    0//客队点球
  ],
  [
    &quot;0.86,-0.5,1.04,0&quot;,//亚盘 主,盘口,客,是否封盘
    &quot;3.8,3.6,2.05,0&quot;,//欧盘 胜,平,负,是否封盘
    &quot;0.9,2.75,1.0,0&quot;,//大小盘 大,盘口,小,是否封盘
    &quot;&quot;//角球,暂时不需要
    ],
  [
    &quot;&quot;,//比赛详细说明
    0,//是否中立场，1-是 0-否
    21,//比赛轮次
    &quot;&quot;,////兼容,请忽略
    &quot;&quot;,//兼容,请忽略
    &quot;&quot;//兼容,请忽略
  ],
  [
    123,//赛季id
    '2017',//赛季年份
  ]
]
进球分布字段说明

-&gt;home//主队
    -&gt;all//全部
        -&gt;matches//比赛场次
        -&gt;scored//进球
        -&gt;conceded//失球
    -&gt;home//主场，同all
    -&gt;away//客场，同all
-&gt;away//客队，同主队
{
  &quot;matches&quot;: 17,//比赛场次
  &quot;scored&quot;: [//进球
    [
      5,//个数
      26,//百分比（26%）
      1,//开始时间
      15//结束时间
    ],
    [
      1,
      5,
      16,
      30
    ],
    [
      1,
      5,
      31,
      45
    ],
    [
      2,
      11,
      46,
      60
    ],
    [
      2,
      11,
      61,
      75
    ],
    [
      8,
      42,
      76,
      90
    ]
  ],
  &quot;conceded&quot;: [//失球
    [
      5,
      14,
      1,
      15
    ],
    [
      3,
      8,
      16,
      30
    ],
    [
      7,
      19,
      31,
      45
    ],
    [
      6,
      17,
      46,
      60
    ],
    [
      6,
      17,
      61,
      75
    ],
    [
      9,
      25,
      76,
      90
    ]
  ]
}
伤停情况字段说明

{
  &quot;home&quot;: [//主队伤停情况
    {
      &quot;id&quot;: 13564,//球员id
      &quot;name&quot;: &quot;圣地亚哥·卡索拉&quot;,//球员名称
      &quot;position&quot;: &quot;M&quot;,//球员位置
      &quot;logo&quot;: &quot;64023cf67cd1abc81bff72e7337ed9be.png&quot;,//球员logo,地址前缀:http://cdn.sportnanoapi.com/football/player/
      &quot;reason&quot;: &quot;跖腱膜 &quot;,//伤停原因
      &quot;missed_matches&quot;: 78,//影响场次
      &quot;start_time&quot;: 1476892800,//开始时间
      &quot;end_time&quot;: 0,//归队时间
      &quot;type&quot;: 1//0-未知 1-受伤 2-停赛
    }
  ],
  &quot;away&quot;: [//客队伤停情况
    {
      &quot;id&quot;: 16276,
      &quot;name&quot;: &quot;丹尼·辛普森&quot;,
      &quot;position&quot;: &quot;D&quot;,
      &quot;logo&quot;: &quot;bd85c3eb4888db5f2043a94420664e7a.png&quot;,//球员logo,地址前缀:http://cdn.sportnanoapi.com/football/player/
      &quot;reason&quot;: &quot;腿筋受伤 &quot;,
      &quot;missed_matches&quot;: 9,
      &quot;start_time&quot;: 1513958400,
      &quot;end_time&quot;: 1516982400,
      &quot;type&quot;: 1
    }
  ]
}
联赛积分字段说明

&quot;stage_id&quot;: 0,//阶段id
&quot;season&quot;: &quot;2019-2020&quot;,//最新赛季
&quot;event_name&quot;: &quot;西甲&quot;,//联赛名称
-&gt;data
    -&gt;all//全部
    -&gt;home//主场
    -&gt;away//客场
{
  &quot;position&quot;: 1,//排名
  &quot;pts&quot;: 18,//积分
  &quot;played&quot;: 8,//已赛场数
  &quot;won&quot;: 5,//胜场数
  &quot;drawn&quot;: 3,//平场数
  &quot;lost&quot;: 0,//失败场数
  &quot;goals&quot;: 16,//进球数
  &quot;away_goals&quot;: 0,//客场进球数
  &quot;against&quot;: 8,//失球数
  &quot;diff&quot;: 8,//净胜球数
  &quot;team_id&quot;: 10217//球队id
}
&quot;season_id&quot;: 9092//最新赛季id<code></pre>
</div>        </div>

    </div>

    <script type="text/javascript">
        function getData() {
            var data = new FormData();
            var param = [];
            $("td input").each(function(index,e) {
                if ($.trim(e.value)){
                    if (e.type != 'file'){
                        if ($(e).data('source') == 'get') {
                            param.push(e.name + '=' + e.value);
                        } else {
                            data.append(e.name, e.value);
                        }

                        if (e.name != "service") $.cookie(e.name, e.value, {expires: 30});
                    } else{
                        var files = e.files;
                        if (files.length == 1){
                            data.append(e.name, files[0]);
                        } else{
                            for (var i = 0; i < files.length; i++) {
                                data.append(e.name + '[]', files[i]);
                            }
                        }
                    }
                }
            });
            param = param.join('&');
            return {param:param, data:data};
        }
        
        $(function(){
            $("#json_output").hide();
            $("#submit").on("click",function(){
                var data = getData();
                var url_arr = $("input[name=request_url]").val().split('?');
                var url = url_arr.shift();
                var param = url_arr.join('?');
                param = param.length > 0 ? param + '&' + data.param : data.param;
                url = url + '?' + param;
                $.ajax({
                    url: url,
                    type:'post',
                    data:data.data,
                    cache: false,
                    processData: false,
                    contentType: false,
                    success:function(res,status,xhr){
                        console.log(xhr);
                        var statu = xhr.status + ' ' + xhr.statusText;
                        var header = xhr.getAllResponseHeaders();
                        var json_text = JSON.stringify(res, null, 4);    // 缩进4个空格
                        $("#json_output").html('<pre>' + statu + '<br/>' + header + '<br/>' + json_text + '</pre>');
                        $("#json_output").show();
                    },
                    error:function(error){
                        console.log(error)
                    }
                })
            })

            fillHistoryData();

            checkLastestVersion();
        })

        // 填充历史数据
        function fillHistoryData() {
            $("td input").each(function(index,e) {
                var cookie_value = $.cookie(e.name);
                if (e.name != "service" && cookie_value != "" && cookie_value !== undefined) {
                    e.value = cookie_value;
                }
            });
        }

        // 检测最新版本
        function checkLastestVersion() {
                $.ajax({
                    url:'https://www.phalapi.net/check_lastest_version.php',
                    type:'get',
                    data:{version : '2.10.1'},
                    success:function(res,status,xhr){
                        if (!res.ret || res.ret != 200) {
                            return;
                        }
                        if (res.data.need_upgrade >= 0) {
                            return;
                        }          

                        $('#version_update').html('&nbsp; | &nbsp; <a target="_blank" href=" ' + res.data.url + ' "><strong>免费升级到 PhalApi ' + res.data.version + '</strong></a>');              
                    },
                    error:function(error){
                        console.log(error)
                    }
                })

        }
    </script>
</body>
</html>